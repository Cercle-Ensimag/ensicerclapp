<!-- Loading -->
<mat-card *ngIf="!users" class="spinner-wraper">
  <mat-spinner class="spinner"></mat-spinner>
</mat-card>

<!-- Users display -->
<div *ngIf="users">
  <mat-card>
    <span *ngIf="error" class="error">{{ error }}</span>

    <h3 *ngIf="users">{{ d.format(d.l.nbVoteUsersLabel, users.length) }}</h3>
    <mat-form-field [class.large]="!media.mobileSize">
      <input matInput placeholder="{{ d.l.research }}" [formControl]="emailCtrl">
      <button mat-icon-button matSuffix><mat-icon>search</mat-icon></button>
    </mat-form-field>
  </mat-card>

  <mat-card *ngIf="displayedUsers.length != 0">
    <mat-nav-list>
      <a mat-list-item *ngFor="let user of displayedUsers | slice:pageIndex*pageSize:(pageIndex+1)*pageSize">
        {{ tools.titleCase(user.emailId.split('|').join(' ')) }}
      </a>
    </mat-nav-list>
  </mat-card>
  <mat-paginator [length]="displayedUsers.length"
                [pageSize]="pageSize"
                (page)="updateList($event)">
  </mat-paginator>
</div>

<div class="home-container" [class.is-mobile]="media.mobileSize">

  <mat-toolbar color="primary" class="toolbar">
    <button mat-icon-button (click)="snav.toggle()" *ngIf="auth.getCurrentUser()"><mat-icon>menu</mat-icon></button>
    <!-- <button mat-icon-button routerLink='/home' class="homebtn" [disabled]="!auth.getCurrentUser()"><mat-icon>home</mat-icon></button> -->
    <h1 class="app-name" routerLink='/home'>{{ d.l.appName }}</h1>
    <div class="right-btns">
      <button mat-icon-button routerLink='/info' class="infobtn"><mat-icon>info</mat-icon></button>
      <button mat-icon-button routerLink='/account' class="accountbtn" *ngIf="auth.getCurrentUser()"><mat-icon>account_circle</mat-icon></button>
    </div>
  </mat-toolbar>

  <!-- Side navigation bar & content -->
  <mat-sidenav-container class="sidenav-container" [style.marginTop.px]="media.mobileSize ? 56 : 0">

    <!-- Side bar -->
    <mat-sidenav #snav [mode]="media.mobileSize ? 'over' : 'side'" [fixedInViewport]="media.mobileSize" fixedTopGap="56">
      <div *ngIf="modules.appModules">
        <mat-nav-list>
          <div *ngFor="let module of modules.appModules">
            <a mat-list-item
              *ngIf="!module.disabled"
              routerLink="/{{ module.name }}">{{ module.displayName }}</a>
          </div>
          <a mat-list-item
            *ngIf="auth.isAdmin"
            routerLink="/admin"
          >{{ d.l.adminLabel }}</a>
          <a mat-list-item
            *ngIf="auth.isVoteAdmin"
            routerLink="/vote-admin"
          >{{ d.l.voteAdminLabel }}</a>
          <a mat-list-item
            *ngIf="auth.isAssessor"
            routerLink="/assessor"
          >{{ d.l.assessorLabel }}</a>
          <a mat-list-item
            *ngIf="auth.isEventsAdmin"
            routerLink="/events-admin"
          >{{ d.l.eventsAdminLabel }}</a>
          <a mat-list-item
            *ngIf="auth.isComResp"
            routerLink="/com-resp"
          >{{ d.l.comRespLabel }}</a>
          <a mat-list-item
            *ngIf="auth.isActusAdmin"
            routerLink="/actus-admin"
          >{{ d.l.actusAdminLabel }}</a>
          <a mat-list-item
            *ngIf="auth.isJournalist"
            routerLink="/journalist"
          >{{ d.l.journalistLabel }}</a>
          <a mat-list-item
            *ngIf="auth.isCafetAdmin"
            routerLink="/cafet-admin"
          >{{ d.l.cafetAdminLabel }}</a>
          <a mat-list-item
            *ngIf="auth.isCafetResp"
            routerLink="/cafet-resp"
          >{{ d.l.cafetRespLabel }}</a>
          <a mat-list-item (click)="snav.toggle(); auth.logout()">{{ d.l.logOutLabel }}</a>
        </mat-nav-list>
      </div>
    </mat-sidenav>

    <!-- Content -->
    <mat-sidenav-content>
      <div class="container">
        <div>
          <!-- Navigate from the different modules of the app (cafet, vote, calendar, ...) -->
          <router-outlet></router-outlet>
        </div>
      </div>
    </mat-sidenav-content>

  </mat-sidenav-container>
</div>
